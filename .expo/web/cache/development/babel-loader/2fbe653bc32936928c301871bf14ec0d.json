{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useNavigation } from '@react-navigation/core';\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SelectDropdown from 'react-native-select-dropdown';\nimport { auth, db } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar camps = [\"Amoy Quee Camp\", \"Bedok Camp\", \"Clementi Camp\", \"Depot Road Camp\", \"Dieppe Barracks\", \"Gombak Base\", \"Hendon Camp\"];\n\nvar ProfileSetupScreen = function ProfileSetupScreen() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      number = _useState4[0],\n      setNumber = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      address = _useState6[0],\n      setAddress = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      camp = _useState8[0],\n      setCamp = _useState8[1];\n\n  var navigation = useNavigation();\n\n  var handleInfoUpdate = function handleInfoUpdate() {\n    var _auth$currentUser;\n\n    db.collection(\"users\").doc((_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid).set({\n      name: name,\n      number: number,\n      address: address,\n      camp: camp\n    }).then(function () {\n      console.log(\"Document successfully written!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n  };\n\n  var handleSignOut = function handleSignOut() {\n    auth.signOut().then(function () {\n      navigation.replace(\"Login\");\n    }).catch(function (error) {\n      return alert(error.message);\n    });\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.header,\n      children: \"Your details\"\n    }), _jsxs(View, {\n      style: styles.bodyContainer,\n      children: [_jsx(Image, {\n        style: styles.userImg\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(Text, {\n          children: \"Name:\"\n        }), _jsx(TextInput, {\n          placeholder: \"Your name (as in NRIC)\",\n          value: name,\n          onChangeText: function onChangeText(text) {\n            return setName(text);\n          },\n          style: styles.input\n        })]\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(Text, {\n          children: \"H/P:\"\n        }), _jsx(TextInput, {\n          placeholder: \"Your mobile number\",\n          value: number,\n          onChangeText: function onChangeText(text) {\n            return setNumber(text);\n          },\n          style: styles.input\n        })]\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(Text, {\n          children: \"Home Address:\"\n        }), _jsx(SelectDropdown, {\n          data: camps,\n          onSelect: function onSelect(camp) {\n            return setCamp(camp);\n          },\n          buttonTextAfterSelection: function buttonTextAfterSelection(selectedItem) {\n            return selectedItem;\n          },\n          rowTextForSelection: function rowTextForSelection(item) {\n            return item;\n          },\n          defaultButtonText: \"Your military camp\",\n          style: styles.input\n        })]\n      }), _jsxs(View, {\n        style: styles.inputContainer,\n        children: [_jsx(Text, {\n          children: \"Military Camp:\"\n        }), _jsx(TextInput, {\n          placeholder: \"Your military camp\",\n          value: camp,\n          onChangeText: function onChangeText(text) {\n            return setCamp(text);\n          },\n          style: styles.input\n        })]\n      }), _jsx(View, {\n        style: styles.buttonContainer,\n        children: _jsx(TouchableOpacity, {\n          onPress: handleInfoUpdate,\n          style: [styles.button],\n          children: _jsx(Text, {\n            style: styles.buttonText,\n            children: \"Save\"\n          })\n        })\n      })]\n    })]\n  });\n};\n\nexport default ProfileSetupScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  header: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 50,\n    fontWeight: '700',\n    fontSize: 20\n  },\n  bodyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputContainer: {\n    width: 300,\n    marginVertical: 5\n  },\n  input: {\n    backgroundColor: 'white',\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 10,\n    marginTop: 5\n  },\n  button: {\n    backgroundColor: '#cccccc',\n    width: '60%',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center',\n    marginTop: 40\n  },\n  buttonText: {\n    color: 'black',\n    fontWeight: '700',\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["useNavigation","React","useEffect","useState","SelectDropdown","auth","db","camps","ProfileSetupScreen","name","setName","number","setNumber","address","setAddress","camp","setCamp","navigation","handleInfoUpdate","collection","doc","currentUser","uid","set","then","console","log","catch","error","handleSignOut","signOut","replace","alert","message","styles","container","header","bodyContainer","userImg","inputContainer","text","input","selectedItem","item","buttonContainer","button","buttonText","StyleSheet","create","flex","alignItems","justifyContent","marginTop","fontWeight","fontSize","width","marginVertical","backgroundColor","paddingHorizontal","paddingVertical","borderRadius","padding","color"],"sources":["/home/james/Projects/rideshare-buddy/screens/ProfileSetupScreen.js"],"sourcesContent":["import { useNavigation } from '@react-navigation/core'\nimport React, { useEffect, useState } from 'react'\nimport { StyleSheet, Text, View, KeyboardAvoidingView, TextInput, TouchableOpacity, Image } from 'react-native'\nimport SelectDropdown from 'react-native-select-dropdown'\nimport { auth, db } from '../firebase'\n\nconst camps = [\"Amoy Quee Camp\", \"Bedok Camp\", \"Clementi Camp\", \"Depot Road Camp\",\n  \"Dieppe Barracks\", \"Gombak Base\", \"Hendon Camp\"]\n\nconst ProfileSetupScreen = () => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const [address, setAddress] = useState('');\n  const [camp, setCamp] = useState('');\n\n  const navigation = useNavigation()\n\n  const handleInfoUpdate = () => {\n    db.collection(\"users\").doc(auth.currentUser?.uid).set({\n      name,\n      number,\n      address,\n      camp,\n    })\n      .then(() => {\n        console.log(\"Document successfully written!\");\n      })\n      .catch((error) => {\n        console.error(\"Error writing document: \", error);\n      });\n  }\n\n  const handleSignOut = () => {\n    auth\n      .signOut()\n      .then(() => {\n        navigation.replace(\"Login\")\n      })\n      .catch(error => alert(error.message))\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.header}>Your details</Text>\n      <View style={styles.bodyContainer}>\n        <Image style={styles.userImg} />\n\n        <View style={styles.inputContainer}>\n          <Text>Name:</Text>\n          <TextInput\n            placeholder=\"Your name (as in NRIC)\"\n            value={name}\n            onChangeText={text => setName(text)}\n            style={styles.input}\n          />\n        </View>\n        <View style={styles.inputContainer}>\n          <Text>H/P:</Text>\n          <TextInput\n            placeholder=\"Your mobile number\"\n            value={number}\n            onChangeText={text => setNumber(text)}\n            style={styles.input}\n          />\n        </View>\n        <View style={styles.inputContainer}>\n          <Text>Home Address:</Text>\n          <SelectDropdown\n            data={camps}\n            onSelect={(camp) => setCamp(camp)}\n            buttonTextAfterSelection={(selectedItem) => {\n              return selectedItem\n            }}\n            rowTextForSelection={(item) => {\n              return item\n            }}\n            defaultButtonText='Your military camp'\n            style={styles.input}\n          />\n        </View>\n        <View style={styles.inputContainer}>\n          <Text>Military Camp:</Text>\n          <TextInput\n            placeholder=\"Your military camp\"\n            value={camp}\n            onChangeText={text => setCamp(text)}\n            style={styles.input}\n          />\n        </View>\n\n        <View style={styles.buttonContainer}>\n          <TouchableOpacity\n            onPress={handleInfoUpdate}\n            style={[styles.button]}\n          >\n            <Text style={styles.buttonText}>Save</Text>\n          </TouchableOpacity>\n        </View>\n\n      </View>\n    </View>\n  )\n}\n\nexport default ProfileSetupScreen\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n  },\n  header: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 50,\n    fontWeight: '700',\n    fontSize: 20,\n  },\n  bodyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  inputContainer: {\n    width: 300,\n    marginVertical: 5,\n  },\n  input: {\n    backgroundColor: 'white',\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 10,\n    marginTop: 5,\n  },\n  button: {\n    backgroundColor: '#cccccc',\n    width: '60%',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center',\n    marginTop: 40,\n  },\n  buttonText: {\n    color: 'black',\n    fontWeight: '700',\n    fontSize: 16,\n  },\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}